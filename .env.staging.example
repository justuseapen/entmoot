# Entmoot Staging Environment Variables
# Copy this file to .env.staging and fill in the values
#
# IMPORTANT: Use separate credentials from production!
# Staging should have its own database, API keys, and secrets.

# ===========================================
# DOMAIN CONFIGURATION
# ===========================================
# Your staging domain (without https://)
DOMAIN=staging.entmoot.app

# CORS allowed origins (include https://)
CORS_ORIGINS=https://staging.entmoot.app

# ===========================================
# DATABASE (PostgreSQL) - ISOLATED FROM PRODUCTION
# ===========================================
# Use different credentials than production!
POSTGRES_USER=entmoot_staging
POSTGRES_PASSWORD=CHANGE_ME_TO_SECURE_STAGING_PASSWORD
POSTGRES_DB=entmoot_staging

# ===========================================
# RAILS APPLICATION
# ===========================================
# Generate a SEPARATE master key for staging:
# docker run --rm ruby:3.4 ruby -e "require 'securerandom'; puts SecureRandom.hex(16)"
# Store this in backend/config/credentials/staging.key (NOT in git!)
RAILS_MASTER_KEY=

# Generate a SEPARATE secret key base for staging:
# docker run --rm ruby:3.4 ruby -e "require 'securerandom'; puts SecureRandom.hex(64)"
SECRET_KEY_BASE=

# ===========================================
# AI FEATURES (Anthropic Claude)
# ===========================================
# Consider using a separate API key with lower limits for staging
# Or use the same key with awareness that staging uses affect your quota
ANTHROPIC_API_KEY=

# ===========================================
# EMAIL (SendGrid)
# ===========================================
# Option 1: Use sandbox mode / test API key
# Option 2: Use same key but different verified sender
# Option 3: Disable email in staging (leave empty)
SENDGRID_API_KEY=

# Staging email sender (should be different from production)
MAILER_FROM=staging@entmoot.app

# ===========================================
# ERROR TRACKING (Sentry/Glitchtip)
# ===========================================
# Create a SEPARATE project for staging in your error tracking service
# This keeps staging noise separate from production errors
SENTRY_DSN=

# ===========================================
# GITHUB CONTAINER REGISTRY
# ===========================================
# Your GitHub repository path for pulling Docker images
# Format: owner/repo (e.g., myorg/entmoot)
GITHUB_REPOSITORY=your-org/entmoot

# Image tag to deploy (usually "staging" for staging environment)
IMAGE_TAG=staging

# ===========================================
# STAGING-SPECIFIC SETTINGS
# ===========================================
# Lower concurrency for staging (saves resources)
SIDEKIQ_CONCURRENCY=3

# More verbose logging for debugging
RAILS_LOG_LEVEL=debug

# ===========================================
# DO NOT CHANGE (internal service URLs)
# ===========================================
# These are set automatically by Docker Compose
# REDIS_URL=redis://redis_staging:6379/0
# DATABASE_URL=postgres://...
